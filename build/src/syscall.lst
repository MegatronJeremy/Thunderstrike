GAS LISTING /tmp/ccpn5uD0.s 			page 1


   1              		.file	"syscall.c"
   2              		.option nopic
   3              		.option norelax
   4              		.text
   5              	.Ltext0:
   6              		.cfi_sections	.debug_frame
   7              		.align	2
   8              		.globl	callSupervisorTrap
  10              	callSupervisorTrap:
  11              	.LFB0:
  12              		.file 1 "src/syscall.c"
   1:src/syscall.c **** #include "../h/syscall_c.h"
   2:src/syscall.c **** 
   3:src/syscall.c **** uint64 pc;
   4:src/syscall.c **** 
   5:src/syscall.c **** void callSupervisorTrap(uint code, void *args) {
  13              		.loc 1 5 48
  14              		.cfi_startproc
  15              	.LVL0:
  16 0000 130101FF 		addi	sp,sp,-16
  17              		.cfi_def_cfa_offset 16
  18 0004 23348100 		sd	s0,8(sp)
  19              		.cfi_offset 8, -8
  20 0008 13040101 		addi	s0,sp,16
  21              		.cfi_def_cfa 8, 0
   6:src/syscall.c ****     __asm__ volatile ("ecall");
  22              		.loc 1 6 5
  23              	#APP
  24              	# 6 "src/syscall.c" 1
   7              	}
  25              		ecall
  26              	# 0 "" 2
  27              		.loc 1 7 1 is_stmt 0
  28              	#NO_APP
  29 0010 03348100 		ld	s0,8(sp)
  30              		.cfi_restore 8
  31              		.cfi_def_cfa 2, 16
  32 0014 13010101 		addi	sp,sp,16
  33              		.cfi_def_cfa_offset 0
  34 0018 67800000 		jr	ra
  35              		.cfi_endproc
  36              	.LFE0:
  38              		.align	2
  39              		.globl	mem_alloc
  41              	mem_alloc:
  42              	.LFB1:
   8:src/syscall.c **** 
   9:src/syscall.c **** void *mem_alloc(size_t size) {
  43              		.loc 1 9 30 is_stmt 1
  44              		.cfi_startproc
  45              	.LVL1:
  46 001c 130101FF 		addi	sp,sp,-16
  47              		.cfi_def_cfa_offset 16
  48 0020 23341100 		sd	ra,8(sp)
  49 0024 23308100 		sd	s0,0(sp)
  50              		.cfi_offset 1, -8
  51              		.cfi_offset 8, -16
GAS LISTING /tmp/ccpn5uD0.s 			page 2


  52 0028 13040101 		addi	s0,sp,16
  53              		.cfi_def_cfa 8, 0
  10:src/syscall.c ****     size *= MEM_BLOCK_SIZE;
  54              		.loc 1 10 5
  55              	.LVL2:
  11:src/syscall.c ****     callSupervisorTrap(0x01, (void *) size);
  56              		.loc 1 11 5
  57 002c 93156500 		slli	a1,a0,6
  58              	.LVL3:
  59 0030 13051000 		li	a0,1
  60 0034 97000000 		call	callSupervisorTrap
  60      E7800000 
  61              	.LVL4:
  12:src/syscall.c **** 
  13:src/syscall.c ****     void *ret;
  62              		.loc 1 13 5
  14:src/syscall.c ****     __asm__ volatile ("sd x10, 0(%[address])" : [address] "=r" (ret));
  63              		.loc 1 14 5
  64              	#APP
  65              	# 14 "src/syscall.c" 1
  15              	    return ret;
  66              		sd x10, 0(a0)
  67              	# 0 "" 2
  68              	.LVL5:
  69              		.loc 1 15 5
  16:src/syscall.c **** }
  70              		.loc 1 16 1 is_stmt 0
  71              	#NO_APP
  72 0040 83308100 		ld	ra,8(sp)
  73              		.cfi_restore 1
  74 0044 03340100 		ld	s0,0(sp)
  75              		.cfi_restore 8
  76              		.cfi_def_cfa 2, 16
  77 0048 13010101 		addi	sp,sp,16
  78              		.cfi_def_cfa_offset 0
  79 004c 67800000 		jr	ra
  80              		.cfi_endproc
  81              	.LFE1:
  83              		.align	2
  84              		.globl	mem_free
  86              	mem_free:
  87              	.LFB2:
  17:src/syscall.c **** 
  18:src/syscall.c **** int mem_free(void *addr) {
  88              		.loc 1 18 26 is_stmt 1
  89              		.cfi_startproc
  90              	.LVL6:
  91 0050 130101FF 		addi	sp,sp,-16
  92              		.cfi_def_cfa_offset 16
  93 0054 23341100 		sd	ra,8(sp)
  94 0058 23308100 		sd	s0,0(sp)
  95              		.cfi_offset 1, -8
  96              		.cfi_offset 8, -16
  97 005c 13040101 		addi	s0,sp,16
  98              		.cfi_def_cfa 8, 0
  99 0060 93050500 		mv	a1,a0
  19:src/syscall.c ****     callSupervisorTrap(0x02, addr);
GAS LISTING /tmp/ccpn5uD0.s 			page 3


 100              		.loc 1 19 5
 101 0064 13052000 		li	a0,2
 102              	.LVL7:
 103 0068 97000000 		call	callSupervisorTrap
 103      E7800000 
 104              	.LVL8:
  20:src/syscall.c **** 
  21:src/syscall.c ****     int ret;
 105              		.loc 1 21 5
  22:src/syscall.c ****     __asm__ volatile ("sd x10, 0(%[address])" : [address] "=r" (ret));
 106              		.loc 1 22 5
 107              	#APP
 108              	# 22 "src/syscall.c" 1
  23              	    return ret;
 109              		sd x10, 0(a0)
 110              	# 0 "" 2
 111              	.LVL9:
 112              		.loc 1 23 5
  24:src/syscall.c **** }
 113              		.loc 1 24 1 is_stmt 0
 114              	#NO_APP
 115 0074 1B050500 		sext.w	a0,a0
 116 0078 83308100 		ld	ra,8(sp)
 117              		.cfi_restore 1
 118 007c 03340100 		ld	s0,0(sp)
 119              		.cfi_restore 8
 120              		.cfi_def_cfa 2, 16
 121 0080 13010101 		addi	sp,sp,16
 122              		.cfi_def_cfa_offset 0
 123 0084 67800000 		jr	ra
 124              		.cfi_endproc
 125              	.LFE2:
 127              		.globl	pc
 128              		.section	.sbss,"aw",@nobits
 129              		.align	3
 132              	pc:
 133 0000 00000000 		.zero	8
 133      00000000 
 134              		.text
 135              	.Letext0:
 136              		.file 2 "src/../h/../lib/hw.h"
GAS LISTING /tmp/ccpn5uD0.s 			page 4


DEFINED SYMBOLS
                            *ABS*:0000000000000000 syscall.c
     /tmp/ccpn5uD0.s:10     .text:0000000000000000 callSupervisorTrap
     /tmp/ccpn5uD0.s:14     .text:0000000000000000 .L0 
     /tmp/ccpn5uD0.s:16     .text:0000000000000000 .L0 
     /tmp/ccpn5uD0.s:17     .text:0000000000000004 .L0 
     /tmp/ccpn5uD0.s:19     .text:0000000000000008 .L0 
     /tmp/ccpn5uD0.s:21     .text:000000000000000c .L0 
       src/syscall.c:6      .text:000000000000000c .L0 
     /tmp/ccpn5uD0.s:29     .text:0000000000000010 .L0 
     /tmp/ccpn5uD0.s:30     .text:0000000000000014 .L0 
     /tmp/ccpn5uD0.s:31     .text:0000000000000014 .L0 
     /tmp/ccpn5uD0.s:33     .text:0000000000000018 .L0 
     /tmp/ccpn5uD0.s:35     .text:000000000000001c .L0 
     /tmp/ccpn5uD0.s:41     .text:000000000000001c mem_alloc
     /tmp/ccpn5uD0.s:44     .text:000000000000001c .L0 
     /tmp/ccpn5uD0.s:46     .text:000000000000001c .L0 
     /tmp/ccpn5uD0.s:47     .text:0000000000000020 .L0 
     /tmp/ccpn5uD0.s:50     .text:0000000000000028 .L0 
     /tmp/ccpn5uD0.s:51     .text:0000000000000028 .L0 
     /tmp/ccpn5uD0.s:53     .text:000000000000002c .L0 
     /tmp/ccpn5uD0.s:56     .text:000000000000002c .L0 
     /tmp/ccpn5uD0.s:57     .text:000000000000002c .L0 
     /tmp/ccpn5uD0.s:63     .text:000000000000003c .L0 
       src/syscall.c:14     .text:000000000000003c .L0 
     /tmp/ccpn5uD0.s:70     .text:0000000000000040 .L0 
     /tmp/ccpn5uD0.s:72     .text:0000000000000040 .L0 
     /tmp/ccpn5uD0.s:73     .text:0000000000000044 .L0 
     /tmp/ccpn5uD0.s:75     .text:0000000000000048 .L0 
     /tmp/ccpn5uD0.s:76     .text:0000000000000048 .L0 
     /tmp/ccpn5uD0.s:78     .text:000000000000004c .L0 
     /tmp/ccpn5uD0.s:80     .text:0000000000000050 .L0 
     /tmp/ccpn5uD0.s:86     .text:0000000000000050 mem_free
     /tmp/ccpn5uD0.s:89     .text:0000000000000050 .L0 
     /tmp/ccpn5uD0.s:91     .text:0000000000000050 .L0 
     /tmp/ccpn5uD0.s:92     .text:0000000000000054 .L0 
     /tmp/ccpn5uD0.s:95     .text:000000000000005c .L0 
     /tmp/ccpn5uD0.s:96     .text:000000000000005c .L0 
     /tmp/ccpn5uD0.s:98     .text:0000000000000060 .L0 
     /tmp/ccpn5uD0.s:101    .text:0000000000000064 .L0 
     /tmp/ccpn5uD0.s:106    .text:0000000000000070 .L0 
       src/syscall.c:22     .text:0000000000000070 .L0 
     /tmp/ccpn5uD0.s:113    .text:0000000000000074 .L0 
     /tmp/ccpn5uD0.s:115    .text:0000000000000074 .L0 
     /tmp/ccpn5uD0.s:117    .text:000000000000007c .L0 
     /tmp/ccpn5uD0.s:119    .text:0000000000000080 .L0 
     /tmp/ccpn5uD0.s:120    .text:0000000000000080 .L0 
     /tmp/ccpn5uD0.s:122    .text:0000000000000084 .L0 
     /tmp/ccpn5uD0.s:124    .text:0000000000000088 .L0 
     /tmp/ccpn5uD0.s:132    .sbss:0000000000000000 pc
     /tmp/ccpn5uD0.s:137    .text:0000000000000088 .L0 
                     .debug_frame:0000000000000000 .L0 
     /tmp/ccpn5uD0.s:396    .debug_abbrev:0000000000000000 .Ldebug_abbrev0
     /tmp/ccpn5uD0.s:790    .debug_str:0000000000000181 .LASF24
     /tmp/ccpn5uD0.s:744    .debug_str:0000000000000012 .LASF25
     /tmp/ccpn5uD0.s:750    .debug_str:0000000000000036 .LASF26
     /tmp/ccpn5uD0.s:5      .text:0000000000000000 .Ltext0
GAS LISTING /tmp/ccpn5uD0.s 			page 5


     /tmp/ccpn5uD0.s:135    .text:0000000000000088 .Letext0
     /tmp/ccpn5uD0.s:738    .debug_line:0000000000000000 .Ldebug_line0
     /tmp/ccpn5uD0.s:754    .debug_str:000000000000007c .LASF3
     /tmp/ccpn5uD0.s:740    .debug_str:0000000000000000 .LASF0
     /tmp/ccpn5uD0.s:778    .debug_str:0000000000000127 .LASF1
     /tmp/ccpn5uD0.s:768    .debug_str:00000000000000d5 .LASF2
     /tmp/ccpn5uD0.s:762    .debug_str:00000000000000b9 .LASF4
     /tmp/ccpn5uD0.s:756    .debug_str:0000000000000081 .LASF5
     /tmp/ccpn5uD0.s:748    .debug_str:000000000000002f .LASF6
     /tmp/ccpn5uD0.s:760    .debug_str:00000000000000a6 .LASF7
     /tmp/ccpn5uD0.s:776    .debug_str:0000000000000114 .LASF8
     /tmp/ccpn5uD0.s:786    .debug_str:0000000000000167 .LASF9
     /tmp/ccpn5uD0.s:784    .debug_str:0000000000000159 .LASF10
     /tmp/ccpn5uD0.s:746    .debug_str:0000000000000020 .LASF11
     /tmp/ccpn5uD0.s:782    .debug_str:000000000000014a .LASF12
     /tmp/ccpn5uD0.s:752    .debug_str:000000000000006c .LASF13
     /tmp/ccpn5uD0.s:780    .debug_str:000000000000013a .LASF14
     /tmp/ccpn5uD0.s:766    .debug_str:00000000000000c9 .LASF15
     /tmp/ccpn5uD0.s:774    .debug_str:00000000000000fe .LASF16
     /tmp/ccpn5uD0.s:772    .debug_str:00000000000000e8 .LASF17
     /tmp/ccpn5uD0.s:764    .debug_str:00000000000000c0 .LASF18
     /tmp/ccpn5uD0.s:87     .text:0000000000000050 .LFB2
     /tmp/ccpn5uD0.s:125    .text:0000000000000088 .LFE2
     /tmp/ccpn5uD0.s:742    .debug_str:000000000000000d .LASF20
     /tmp/ccpn5uD0.s:679    .debug_loc:0000000000000000 .LLST1
     /tmp/ccpn5uD0.s:104    .text:0000000000000070 .LVL8
     /tmp/ccpn5uD0.s:788    .debug_str:0000000000000177 .LASF19
     /tmp/ccpn5uD0.s:42     .text:000000000000001c .LFB1
     /tmp/ccpn5uD0.s:81     .text:0000000000000050 .LFE1
     /tmp/ccpn5uD0.s:770    .debug_str:00000000000000e3 .LASF21
     /tmp/ccpn5uD0.s:697    .debug_loc:000000000000004c .LLST0
     /tmp/ccpn5uD0.s:61     .text:000000000000003c .LVL4
     /tmp/ccpn5uD0.s:758    .debug_str:0000000000000093 .LASF27
     /tmp/ccpn5uD0.s:11     .text:0000000000000000 .LFB0
     /tmp/ccpn5uD0.s:36     .text:000000000000001c .LFE0
     /tmp/ccpn5uD0.s:794    .debug_str:0000000000000224 .LASF22
     /tmp/ccpn5uD0.s:792    .debug_str:000000000000021f .LASF23
     /tmp/ccpn5uD0.s:90     .text:0000000000000050 .LVL6
     /tmp/ccpn5uD0.s:102    .text:0000000000000068 .LVL7
     /tmp/ccpn5uD0.s:45     .text:000000000000001c .LVL1
     /tmp/ccpn5uD0.s:55     .text:000000000000002c .LVL2
     /tmp/ccpn5uD0.s:58     .text:0000000000000030 .LVL3
     /tmp/ccpn5uD0.s:138    .debug_info:0000000000000000 .Ldebug_info0

NO UNDEFINED SYMBOLS
